---
import Layout from '../layouts/Layout.astro';
import HomePage from '../components/HomePage.astro';
import { getTranslations } from '../i18n/utils';

const translations = getTranslations('fr');
---

<Layout
  title={translations.site.title}
  lang="fr"
  description={translations.site.description}
>
  <HomePage
    translations={translations}
    currentLocale="fr"
    paths={{ fr: '/', en: '/en' }}
  />
  <script>
    if (typeof window !== 'undefined' && window.kimeLocale) {
      window.kimeLocale.redirectIfNeeded({
        currentLocale: 'fr',
        paths: {
          en: '/en',
        },
      });
    }
  </script>
</Layout>
